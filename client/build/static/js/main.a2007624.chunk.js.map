{"version":3,"sources":["SearchBox.js","App.js","index.js"],"names":["SearchBox","props","react_default","a","createElement","type","className","placeholder","onChange","handleChange","App","state","name","testeeName","testName","attempts","score","sten","percentile","date_taken","candidates","loading","searchField","testeeRecords","fileName","useStyles","makeStyles","table","minWidth","classes","_ref","_ref$target","target","value","_this","setState","Object","defineProperty","createAndDownloadPdf","axios","post","then","get","responseType","res","pdfBlob","Blob","data","saveAs","fetch","response","json","this","row","forEach","candidate","candidate_id","push","_this2","length","_this$state","filteredCandidates","filter","toLowerCase","includes","toLocaleLowerCase","Paper","src_SearchBox","e","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","map","key","component","scope","GetApp_default","onClick","clickMe","bind","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.a2007624.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst SearchBox = (props) => {\r\n    return(\r\n        <input type = 'search' \r\n        className = 'search'\r\n        placeholder ={props.placeholder}\r\n        onChange={props.handleChange}\r\n\r\n        />\r\n    )\r\n}\r\n\r\nexport default SearchBox","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { saveAs } from 'file-saver';\r\n\r\nimport SearchBox from './SearchBox';\r\n\r\nimport \"./App.css\";\r\nimport MaterialTable from 'material-table';\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\n\r\n\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    name: '',\r\n    testeeName: '',\r\n    testName: '',\r\n    attempts: 0,\r\n    score: 0,\r\n    sten: 0,\r\n    percentile: 0,\r\n    date_taken: '',\r\n    candidates:[],\r\n    loading: true,\r\n\r\n    //SearchBox\r\n    searchField: '',\r\n\r\n    // Test State var\r\n    testeeRecords:[],\r\n    fileName:''\r\n    \r\n  }\r\n\r\n  async componentDidMount() {\r\n    const url = \"https://epz-report-generation.herokuapp.com/items\";\r\n    const response = await fetch(url);\r\n    const data =  await response.json();\r\n    this.setState({candidates: data, loading: false});\r\n  }\r\n\r\nuseStyles = makeStyles({\r\n    table: {\r\n      minWidth: 650\r\n    }\r\n  });\r\n\r\n\r\n classes = makeStyles({\r\n  table: {\r\n    minWidth: 650\r\n  }\r\n});\r\n\r\n  handleChange = ({ target: { value, name }}) => this.setState({ [name]: value })\r\n\r\n  async clickMe  (row){\r\n    var testeeRecords = [];\r\n    var allStens  = [];\r\n\r\n    this.state.candidates.forEach(candidate => {\r\n      if(candidate.candidate_id === row.candidate_id){\r\n        testeeRecords.push(candidate);\r\n       \r\n      }\r\n    });\r\n\r\n    // this.setState(row, function () {\r\n    //   this.createAndDownloadPdf();\r\n    // });\r\n    \r\n    this.setState({testeeRecords:testeeRecords}, function(){\r\n      this.createAndDownloadPdf();\r\n    })\r\n\r\n  }\r\n\r\n  createAndDownloadPdf = () => {\r\n    axios.post('/create-pdf', this.state.testeeRecords)\r\n      .then(() => axios.get('fetch-pdf', { responseType: 'blob' }))\r\n      .then((res) => {\r\n        const pdfBlob = new Blob([res.data], { type: 'application/pdf' });\r\n\r\n        \r\n        saveAs(pdfBlob, \"fileName.pdf\" );\r\n      })\r\n  }\r\n\r\n  render() {\r\n\r\n    if(this.state.loading) {\r\n      return <div>loading....</div>;\r\n    }\r\n    if(!this.state.candidates.length) {\r\n      return <div>Didn't get a candidate</div>\r\n    }\r\n    const {candidates, searchField} = this.state\r\n      const filteredCandidates = candidates.filter(candidate =>(\r\n        candidate.testeeName.toLowerCase().includes(searchField.toLocaleLowerCase())\r\n      ))\r\n      this.candidates = {filteredCandidates};\r\n    return (\r\n      \r\n      <div className=\"App\">\r\n\r\n        <h1>Candidate list</h1>\r\n                  <Paper>\r\n                    <SearchBox placeholder=\"Enter a candidate name...\" handleChange={(e) => this.setState({searchField: e.target.value})}/>\r\n                   <TableContainer>\r\n                     <Table >\r\n                       <TableHead>\r\n                         <TableRow>\r\n                           <TableCell align=\"center\">Candidate ID</TableCell>\r\n                           <TableCell align=\"center\">Testee Name</TableCell>\r\n                           <TableCell align=\"center\">Test Name</TableCell>\r\n                           <TableCell align=\"center\">Attempts</TableCell>\r\n                           <TableCell align=\"center\">Score</TableCell>\r\n                           <TableCell align=\"center\">Percentile   </TableCell>\r\n                           <TableCell align=\"center\">Sten</TableCell>\r\n                           <TableCell align=\"center\">Date Taken</TableCell>\r\n                         </TableRow>\r\n                       </TableHead>\r\n                       <TableBody >\r\n                         \r\n                         {this.state.candidates.map((row) => (\r\n                           <TableRow key={row.candidate_id}>\r\n                             <TableCell align=\"center\" component=\"th\" scope=\"row\">{row.candidate_id} </TableCell>\r\n                             <TableCell align=\"center\">{row.testeeName}</TableCell>\r\n                             <TableCell align=\"center\">{row.testName}</TableCell>\r\n                             <TableCell align=\"center\">{row.attempts}</TableCell>\r\n                             <TableCell align=\"center\">{row.score}</TableCell>\r\n                             <TableCell align=\"center\">{row.percentile}</TableCell>\r\n                             <TableCell align=\"center\">{row.sten}</TableCell>\r\n                             <TableCell align=\"center\">{row.date_taken}</TableCell>\r\n                             <GetAppIcon onClick={this.clickMe.bind(this,row)}/>\r\n                             {/* <button onClick={this.clickMe.bind(this,row)}>Download PDF</button> */}\r\n                           </TableRow>\r\n                         ))}\r\n                       </TableBody>\r\n                     </Table>\r\n                   </TableContainer>\r\n                   \r\n                 </Paper>     \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}